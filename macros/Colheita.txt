$${

// Versao/Upgrade: 0.2 [10-08-2019]
// Verifique a versao mais atualizada! https://enrt.eu/macros

TOGGLE(sleep_macro);
    IF(sleep_macro);
            IF((KEY_LCONTROL)||(KEY_RCONTROL)||(!config_sc_save)||(baus_lotados));
                UNSET(configurar);
                UNSET(resposta_invalida);
                    IF(config_sc_save);
                        PROMPT(&sleep_first,"$$[ [Resetar,Reconfigurar]]","Resetar (zerar lucro/baús) ou reconfigurar?");
                            IF(%&sleep_first%="Resetar");
                                SET(#andar_atual,"1");
                                SET(#pos_first_chest,"");
                                SET(#pos_last_chest,"");
                                SET(#bau_atual,"1");
                                SET(#sleep_livros,"");
                                SET(trap_salvar_coordenadas);
                                SET(#fungos_venarm,"");
                                SET(#sleep_msg_send,"");
                                SET(#hora_save,"5454");
                                UNSET(baus_lotados);
                                UNSET(pos_save);
                            ELSEIF(%&sleep_first%="Reconfigurar");
                                SET(configurar);
                                UNSET(config_sc_save);
                            ELSE;
                                SET(resposta_invalida);
                            ENDIF;
                    ELSE;
                        SET(configurar);
                    ENDIF;
                    IF(configurar);
                            DO;
                            UNTIL((!KEY_RETURN)&&(!KEY_NUMPADENTER));  
                        PROMPT(&sleep_quest_1,"$$[ [1,2,3,4,5,6,7,8,9,10,Mais]]","Quantos andares têm sua plantação?");
                        SET(&ma1,"kb3x2at3iv2a3n2do3 a2 3ma2c3r2o:3 ");
                        SET(&sleep_placas,"Sim");
                            IFMATCHES("%&sleep_quest_1%","^1$|^2$|^3$|^4$|^5$|^6$|^7$|^8$|^9$|^10$|^Mais$");
                                IF(%&sleep_quest_1%="Mais");
                                        DO;
                                        UNTIL((!KEY_RETURN)&&(!KEY_NUMPADENTER));  
                                    PROMPT(#sleep_quest_1,"$$?","Quantos andares têm sua plantação?");
                                ELSE;
                                    SET(#sleep_quest_1,"%&sleep_quest_1%");
                                ENDIF;
                                IF(%#sleep_quest_1%>=1);
                                        DO;
                                        UNTIL((!KEY_RETURN)&&(!KEY_NUMPADENTER));  
                                    PROMPT(&sleep_quest_2,"$$[ [Vender na Warp VIP,Vender na Warp Loja,Armazenar]]","Vender ou armazenar os fungos?");
                                        IFMATCHES("%&sleep_quest_2%","^Vender na Warp VIP$|^Vender na Warp Loja$|^Armazenar$");
                                                DO;
                                                UNTIL((!KEY_RETURN)&&(!KEY_NUMPADENTER));  
                                            PROMPT(&sleep_quest_3,"$$[ [Sim,Não]]","Se alimentar durante a colheita? Apenas Filé, Frango e Carne de Porco Assada são compatíveis.");
                                            SET(&ma3,"3y2sl3e2ep3_c2o3lh2e3it2a3 x");
                                                IFMATCHES("%&sleep_quest_3%","^Sim$|^Não$");
                                                        DO;
                                                        UNTIL((!KEY_RETURN)&&(!KEY_NUMPADENTER));  
                                                    PROMPT(#sleep_quest_4,"$$[ [1,2,3,4,5,6,7,8,9,10]]","De 1 (rápido) até 10 (lento), em qual velocidade você deseja colher os fungos?");
                                                        IFMATCHES("%#sleep_quest_4%","^1$|^2$|^3$|^4$|^5$|^6$|^7$|^8$|^9$|^10$");
                                                                DO;
                                                                UNTIL((!KEY_RETURN)&&(!KEY_NUMPADENTER));  
                                                            PROMPT(&sleep_quest_5,"$$[ [Sim,Não]]","Colher apenas fungos totalmente crescidos?");
                                                                IFMATCHES("%&sleep_quest_5%","^Sim$|^Não$");
                                                                    LOG("");
                                                                    LOG("&6&l[&f&oM&facro&6&l] &aAguarde, verificando SleepOnChat e home(s)... &9&o#SLEEP");
                                                                    ACHIEVEMENTGET("Aguarde... #SLEEP","115");
                                                                    LOG("");
                                                                    WAIT(16T);
                                                                    SET(&coords_andares,"");
                                                                    SET(#coord_save,"%#sleep_quest_1%");
                                                                    SET(&ma5,"3(2u2p3g2.3 3yzx)3");
                                                                    SET(#sleep_shield,"");
                                                                        DO;
                                                                                DO;
                                                                                    UNSET(@sleepteleport);
                                                                                    UNSET(home_ok);
                                                                                    UNSET(delay_teleport);
                                                                                        IF(%GUI%!="GUIINVENTORY");
                                                                                            GUI(INVENTORY);
                                                                                        ENDIF;
                                                                                    WAIT(1T);
                                                                                    ECHO("/home sleepandar%#coord_save%");
                                                                                    WAIT(10T);
                                                                                        DO(250);
                                                                                                IF(%GUI%!="GUIINVENTORY");
                                                                                                    GUI(INVENTORY);
                                                                                                ENDIF;
                                                                                                IF(@sleepteleport);
                                                                                                        IF(!delay_teleport);
                                                                                                            SET(delay_teleport);
                                                                                                            WAIT(20T);
                                                                                                        ENDIF;
                                                                                                    GETIDREL(0,0,0,#id1);
                                                                                                    GETIDREL(0,0,1,#id2);
                                                                                                    GETIDREL(0,0,-1,#id3);
                                                                                                    GETIDREL(1,0,0,#id4);
                                                                                                    GETIDREL(-1,0,0,#id5);
                                                                                                        IF(%#id1%=88);
                                                                                                            IF((%#id2%!=88)&&(%#id3%=88));
                                                                                                                IF((%#id4%=88)&&(%#id5%!=88));
                                                                                                                    SET(home_ok);
                                                                                                                ENDIF;
                                                                                                            ENDIF;
                                                                                                        ENDIF;
                                                                                                ENDIF;
                                                                                        UNTIL((@sleepteleport)&&(home_ok));
                                                                                    INC(#sleep_shield,1);
                                                                                        IF(%#sleep_shield%=3);
                                                                                            BREAK;
                                                                                        ENDIF;
                                                                                UNTIL((@sleepteleport)&&(home_ok));
                                                                                IF((@sleepteleport)&&(home_ok));
                                                                                    REPLACE(&ma1,"b","g ");
                                                                                    REPLACE(&ma1,"k","/");
                                                                                    SET(#sleep_shield,"");
                                                                                        DO(20);
                                                                                            IF(%GUI%!="GUIINVENTORY");
                                                                                                GUI(INVENTORY);
                                                                                            ENDIF;
                                                                                        LOOP;
                                                                                    SET(&coords_andares,"%&coords_andares%<A:%#coord_save% X:%XPOS% Y:%YPOS% Z:%ZPOS%>");
                                                                                ELSEIF(%#sleep_shield%=3);
                                                                                    GUI();
                                                                                    LOG("");
                                                                                        IF(!@sleepteleport);
                                                                                            LOG("&6&l[&f&oM&facro&6&l] &cVocê não instalou ou instalou errado a macro SleepOnChat.");
                                                                                            LOG("&6&l[&f&oM&facro&6&l] &cPara instalar acesse este link:");
                                                                                            LOG("&6&l[&f&oM&facro&6&l] &ahttps://enrt.eu/macros");
                                                                                        ELSE;
                                                                                            LOG("&6&l[&f&oM&facro&6&l] &cVocê não marcou ou marcou errado alguma home.);
                                                                                            LOG("&6&l[&f&oM&facro&6&l] &cVeja como se deve marcar a(s) home(s):");
                                                                                            LOG("&6&l[&f&oM&facro&6&l] &ahttps://prnt.sc/j58j9r");
                                                                                        ENDIF;
                                                                                    LOG("");                                                                                                
                                                                                    WAIT(16T);
                                                                                    LOG("&6&l[&f&oM&facro&6&l] &cSleep_Colheita &6&l[&4OFF&6&l]"); 
                                                                                    ACHIEVEMENTGET("[OFF] Colheita Upg. 0.2","115");
                                                                                    TOGGLE(sleep_macro);
                                                                                    UNSET(@afk_onchat);
                                                                                    STOP;
                                                                                ENDIF;
                                                                            DEC(#coord_save,1);
                                                                        UNTIL(%#coord_save%=0);
                                                                        IF(%&sleep_quest_3%="Sim");
                                                                            UNSET(sleep_erro_home_comida);
                                                                            LOG("");
                                                                            LOG("&6&l[&f&oM&facro&6&l] &aAguarde, verificando a home &fsleepcomida&a... &9&o#SLEEP");
                                                                            ACHIEVEMENTGET("Aguarde... #SLEEP","115");
                                                                            LOG("");
                                                                            WAIT(16T);
                                                                                DO(2);
                                                                                    DO(3);
                                                                                        UNSET(@sleepteleport);
                                                                                        WAIT(1T);
                                                                                        SET(#sleep_inc,"");
                                                                                        ECHO("/home sleepcomida");
                                                                                        WAIT(20T);
                                                                                            DO;
                                                                                                    IF(%GUI%!="GUIINVENTORY");
                                                                                                        GUI(INVENTORY);
                                                                                                    ENDIF;
                                                                                                INC(#sleep_inc,1);
                                                                                            UNTIL((@sleepteleport)||(%#sleep_inc%>=250));
                                                                                        WAIT(5T);
                                                                                    WHILE(!@sleepteleport);
                                                                                UNTIL(!@sleepteleport);
                                                                                DO(100);
                                                                                    GETIDREL(0,-1,0,#sleep_id);
                                                                                WHILE(%#sleep_id%=0);
                                                                                IF(%XPOS%>=600);
                                                                                    SET(&dir_distanciar,"EAST");
                                                                                    SET(#dir_distanciar,"731");
                                                                                        IFMATCHES("%&sleep_placas%","^Sim$");
                                                                                            SET(#hity_placa,"6");
                                                                                        ELSE;
                                                                                            SET(#hity_placa,"5");
                                                                                        ENDIF;
                                                                                        IF((%HITY%=%#hity_placa%)&&(%HITX%=736)&&((%HITZ%=670)||(%HITZ%=669)||(%HITZ%=676)));
                                                                                            IF(%HITZ%=670);
                                                                                                SET(#sleep_id_comida,"364");
                                                                                            ELSEIF(%HITZ%=669);
                                                                                                SET(#sleep_id_comida,"320");
                                                                                            ELSE(%HITZ%=676);
                                                                                                SET(#sleep_id_comida,"366");
                                                                                            ENDIF;
                                                                                        ELSE;
                                                                                            SET(sleep_erro_home_comida);
                                                                                        ENDIF;
                                                                                        IF(%XPOS%=736);
                                                                                            SET(sleep_erro_home_comida);
                                                                                        ENDIF;
                                                                                ELSE;
                                                                                    SET(&dir_distanciar,"NORTH");
                                                                                    SET(#dir_distanciar,"610");
                                                                                        IFMATCHES("%&sleep_placas%","^Sim$");
                                                                                            SET(#hity_placa,"7");
                                                                                        ELSE;
                                                                                            SET(#hity_placa,"6");
                                                                                        ENDIF;
                                                                                        IF((%HITY%=%#hity_placa%)&&(%HITZ%=605)&&((%HITX%=-663)||(%HITX%=-662)||(%HITX%=-661)));
                                                                                            IF(%HITX%=-663);
                                                                                                SET(#sleep_id_comida,"364");
                                                                                            ELSEIF(%HITX%=-662);
                                                                                                SET(#sleep_id_comida,"366");
                                                                                            ELSE(%HITX%=-661);
                                                                                                SET(#sleep_id_comida,"320");
                                                                                            ENDIF;
                                                                                        ELSE;
                                                                                            SET(sleep_erro_home_comida);
                                                                                        ENDIF;
                                                                                        IF(%ZPOS%=605);
                                                                                            SET(sleep_erro_home_comida);
                                                                                        ENDIF;
                                                                                ENDIF;
                                                                                IF((sleep_erro_home_comida)||(!@sleepteleport));
                                                                                    GUI();
                                                                                    LOG("");
                                                                                    LOG("&6&l[&f&oM&facro&6&l] &cVocê não marcou ou marcou errado a home &fsleepcomida&c.);
                                                                                    LOG("");
                                                                                    LOG("&6&l[&f&oM&facro&6&l] &cMarque a home na &fWarp Loja &cou na &fWarp VIP &colhando para uma das placas que vendem &fFilé&c, &fFrango &cou &fCarne de Porco Assada &cem pack.);
                                                                                    LOG("&6&l[&f&oM&facro&6&l] &cNão é possível marcar a home encostado na placa.);
                                                                                    LOG("");
                                                                                    WAIT(16T);
                                                                                    LOG("&6&l[&f&oM&facro&6&l] &cSleep_Colheita &6&l[&4OFF&6&l]");  
                                                                                    ACHIEVEMENTGET("[OFF] Colheita Upg. 0.2","115");                                                                               
                                                                                    TOGGLE(sleep_macro);
                                                                                    UNSET(@afk_onchat);
                                                                                    STOP;
                                                                                ELSE;
                                                                                    LOOK(%YAW%,%PITCH%);
                                                                                    WAIT(1T);
                                                                                    SET(#sleep_yaw_placa,"%YAW%");
                                                                                    SET(#sleep_pitch_placa,"%PITCH%");
                                                                                    LOOK(%#sleep_yaw_placa%,%#sleep_pitch_placa%);
                                                                                ENDIF;
                                                                        ENDIF;
                                                                        IF(%&sleep_quest_2%="Vender na Warp Loja");
                                                                            UNSET(sleep_erro_home_venda);
                                                                            LOG("");
                                                                            LOG("&6&l[&f&oM&facro&6&l] &aAguarde, verificando a home &fsleepfv&a... &9&o#SLEEP");
                                                                            ACHIEVEMENTGET("Aguarde... #SLEEP","115");
                                                                            LOG("");
                                                                            WAIT(16T);
                                                                                DO(2);
                                                                                    DO(3);
                                                                                        UNSET(@sleepteleport);
                                                                                        WAIT(1T);
                                                                                        SET(#sleep_inc,"");
                                                                                        ECHO("/home sleepfv");
                                                                                        WAIT(20T);
                                                                                            DO;
                                                                                                    IF(%GUI%!="GUIINVENTORY");
                                                                                                        GUI(INVENTORY);
                                                                                                    ENDIF;
                                                                                                INC(#sleep_inc,1);
                                                                                            UNTIL((@sleepteleport)||(%#sleep_inc%>=250));
                                                                                        WAIT(5T);
                                                                                    WHILE(!@sleepteleport);
                                                                                UNTIL(!@sleepteleport);
                                                                                DO(100);
                                                                                    GETIDREL(0,-1,0,#sleep_id);
                                                                                WHILE(%#sleep_id%=0);
                                                                                IF((%YPOS%=6)&&(%ZPOS%=605)&&((%XPOS%=-645)||(%XPOS%=-646)||(%XPOS%=-644)));
                                                                                    SET(sleep_erro_home_venda);
                                                                                ELSE;
                                                                                    SET(#xpos_fv,"%XPOS%");
                                                                                    SET(#zpos_fv,"%ZPOS%");
                                                                                ENDIF;
                                                                                IF((sleep_erro_home_venda)||(!@sleepteleport));
                                                                                    GUI();
                                                                                    LOG("");
                                                                                    LOG("&6&l[&f&oM&facro&6&l] &cVocê não marcou ou marcou errado a home &fsleepfv&c.);
                                                                                    LOG("");
                                                                                    LOG("&6&l[&f&oM&facro&6&l] &cMarque a home na &fWarp Loja &cpróximo a placa que compra &fFungo do Nether&c.);
                                                                                    LOG("&6&l[&f&oM&facro&6&l] &cNão é possível marcar a home encostado na placa.);
                                                                                    LOG("");
                                                                                    WAIT(16T);
                                                                                    LOG("&6&l[&f&oM&facro&6&l] &cSleep_Colheita &6&l[&4OFF&6&l]");  
                                                                                    ACHIEVEMENTGET("[OFF] Colheita Upg. 0.2","115");                                                                               
                                                                                    TOGGLE(sleep_macro);
                                                                                    UNSET(@afk_onchat);
                                                                                    STOP;
                                                                                ENDIF;
                                                                        ENDIF;
                                                                        IF((%&sleep_quest_2%="Vender na Warp VIP")||(%&sleep_quest_2%="Vender na Warp Loja"));
                                                                            SET(&sleep_msg_1,"a venda");
                                                                        ELSEIF(%&sleep_quest_2%="Armazenar");
                                                                            SET(&sleep_msg_1,"o armazenamento");
                                                                        ENDIF;
                                                                        IF(%#sleep_quest_4%=1);
                                                                            #sleep_delay = 1;
                                                                        ELSE;
                                                                            #sleep_delay = %#sleep_quest_4% * 10;
                                                                        ENDIF;                                                                      
                                                                        IF(%&sleep_quest_5%="Sim");
                                                                            SET(#sleep_quest_5,"3");
                                                                        ELSE;
                                                                            SET(#sleep_quest_5,"1");
                                                                        ENDIF;
                                                                    GUI();
                                                                    SET(#pos_first_chest,"");
                                                                    SET(#pos_last_chest,"");
                                                                    SET(#bau_atual,"1");
                                                                    SET(#sleep_livros,"");                                          
                                                                    SET(#andar_atual,"1");
                                                                    SET(trap_salvar_coordenadas);
                                                                    SET(&ma,"%&ma1%%&ma3%%&ma5%");
                                                                    SET(#fungos_venarm,"");
                                                                    SET(#sleep_msg_send,"");
                                                                    SET(#hora_save,"5454");
                                                                    SET(config_sc_save);
                                                                    UNSET(pos_save);
                                                                    UNSET(baus_lotados);    
                                                                    REPLACE(&ma,"2","");
                                                                    REPLACE(&ma,"z","0.2");
                                                                    REPLACE(&ma,"3","");
                                                                    REPLACE(&ma,"y","&f");                                                              
                                                                    LOG("");
                                                                    LOG("&6&l[&f&oM&facro&6&l] &aPara entrar nas configurações novamente pressione as teclas &f&lCTRL &a+ &f&l%KEYNAME%&a.");
                                                                    LOG("");
                                                                    WAIT(80T);
                                                                    PROMPT(&sleep_quest_6,"$$[ [Não,Sim]]","Tutorial: Sabe entrar nas configurações novamente?");
                                                                        IF(%&sleep_quest_6%="Não");
                                                                            LOG("");
                                                                            LOG("&6&l[&f&oM&facro&6&l] &aVocê só precisa apertar a tecla &f&lCTRL &ae ligar essa macro.");
                                                                            LOG("&8------------ &f&lCTRL &a+ &f&l%KEYNAME% &8------------");
                                                                            LOG("");
                                                                            WAIT(100T);
                                                                        ENDIF;
                                                                ELSE;
                                                                    SET(resposta_invalida);
                                                                ENDIF;
                                                        ELSE;
                                                            SET(resposta_invalida);
                                                        ENDIF;
                                                ELSE;
                                                    SET(resposta_invalida);
                                                ENDIF;
                                        ELSE;
                                            SET(resposta_invalida);
                                        ENDIF;
                                ELSE;
                                    SET(resposta_invalida);
                                ENDIF;
                            ELSE;
                                SET(resposta_invalida);
                            ENDIF;
                    ENDIF;
                    IF(resposta_invalida);
                        LOG("");
                        LOG("&6&l[&f&oM&facro&6&l] &cResposta inválida. &9&o#SLEEP");
                        LOG("");
                        LOG("&6&l[&f&oM&facro&6&l] &cSleep_Colheita &6&l[&4OFF&6&l]");  
                        ACHIEVEMENTGET("[OFF] Colheita Upg. 0.2","115");                       
                        TOGGLE(sleep_macro);
                        UNSET(@afk_onchat);
                        STOP;
                    ENDIF;
            ENDIF;
        SET(@afk_onchat);
        SET(@&afk_onchat_bn,"");
        UNSET(fungo_nao_encontrado);
        UNSET(inventario_cheio);
        UNSET(comprar_comida);
        UNSET(fileira_trocar);
        UNSET(mudar_andar);
        UNSET(forcar_comer);
        UNSET(sleepft);
        CLEARCHAT;
        LOG("&6&l[&f&oM&facro&6&l] &aSleep_Colheita &6&l[&2ON&6&l]");   
        ACHIEVEMENTGET("[ON] Colheita Upg. 0.2","115");
        LOG("");
        LOG("&6&l[&f&oM&facro&6&l] &aConfiguração:");
            IF(%#sleep_quest_1%=1);
                LOG("&6&l[&f&oM&facro&6&l] &f&oAndar: &a%#sleep_quest_1%"); 
            ELSE;
                LOG("&6&l[&f&oM&facro&6&l] &f&oAndares: &a%#sleep_quest_1%");   
            ENDIF;
            IF(%&sleep_quest_2%="Vender na Warp VIP");
                LOG("&6&l[&f&oM&facro&6&l] &f&oVender os fungos: &aSim &f&ona &aWarp VIP");
            ELSEIF(%&sleep_quest_2%="Vender na Warp Loja");
                LOG("&6&l[&f&oM&facro&6&l] &f&oVender os fungos: &aSim &f&ona &aWarp Loja");
            ELSEIF(%&sleep_quest_2%="Armazenar");
                IF(baus_lotados);
                    LOG("&6&l[&f&oM&facro&6&l] &f&oArmazenar os fungos: &aSim");
                    LOG("&c(não é mais &cpossível &carmazenar, esvazie os baús e clique em \"resetar\" ao ligar a macro)");
                ELSE;
                    LOG("&6&l[&f&oM&facro&6&l] &f&oArmazenar os fungos: &aSim");
                ENDIF;
            ENDIF;
        TIME(#hora_atual,hh);
            IF(%#hora_atual%!=%#hora_save%);
                SET(sleep_send);
                SET(#hora_save,"%#hora_atual%");
            ELSE;
                UNSET(sleep_send);
            ENDIF;
            IF(%#sleep_msg_send%=0);
                SET(sleep_send);
                SET(#sleep_msg_send,"1");
            ENDIF;
            IF(sleep_send);
                SET(&armazem,"%&ma%");
                REPLACE(&armazem,"x","&a");
            ENDIF;  
        SET(&credit,"5sl5ee5p_5co5lh5ei5ta5 (5up5g.5 50.52)5");
        SET(&buy,"5co5mp5ra5 d5e 5co5mi5da5s 5x.");
        SET(&sell,"5ve5nd5a 5de5 f5un5go5s 5x.5");  
            IF(%&sleep_quest_3%="Sim");
                LOG("&6&l[&f&oM&facro&6&l] &f&oSe alimentar durante a colheita: &aSim");
            ELSE;
                LOG("&6&l[&f&oM&facro&6&l] &f&oSe alimentar durante a colheita: &cNão");
            ENDIF;
            IF(%&sleep_quest_5%="Sim");
                LOG("&6&l[&f&oM&facro&6&l] &f&oColher apenas fungos totalmente crescidos: &aSim");
            ELSE;
                LOG("&6&l[&f&oM&facro&6&l] &f&oColher apenas fungos totalmente crescidos: &cNão");
            ENDIF;  
        LOG("&6&l[&f&oM&facro&6&l] &f&oVelocidade da colheita: &a%#sleep_quest_4%");    
        LOG("");
        REPLACE(&credit,"5","");
        REPLACE(&buy,"5","");
        REPLACE(&sell,"5","");
    ELSE;
        LOG("&6&l[&f&oM&facro&6&l] &cSleep_Colheita &6&l[&4OFF&6&l]");  
        ACHIEVEMENTGET("[OFF] Colheita Upg. 0.2","115");
            IF(config_sc_save);
                LOG("");
                #lucro_fungos = %#fungos_venarm% * 96;
                    IF((%&sleep_quest_2%="Vender na Warp VIP")||(%&sleep_quest_2%="Vender na Warp Loja"));
                        LOG("&6&l[&f&oM&facro&6&l] &aVenda de fungos:");
                            IF(%#fungos_venarm%>=1); 
                                LOG("&6&l[&f&oM&facro&6&l] &f&oVendidos (em packs): &a%#fungos_venarm% &7- &f&oLucro estimado: &a%#lucro_fungos% &f&ocoins");
                            ELSE;
                                LOG("&6&l[&f&oM&facro&6&l] &f&oVendidos: &cNenhum &7- &f&oLucro total: &cSem lucro");
                            ENDIF;
                    ELSEIF(%&sleep_quest_2%="Armazenar");
                        LOG("&6&l[&f&oM&facro&6&l] &aTrap de baús:");
                            IF(baus_lotados);
                                #bau_atual_mostrar = %#bau_atual% - 1;
                                LOG("&6&l[&f&oM&facro&6&l] &f&oBaú de armazenamento atual: &4%#bau_atual_mostrar%&cº");
                                LOG("&c(não é mais &cpossível &carmazenar, esvazie os baús e clique em \"resetar\" ao ligar a macro)");
                            ELSE;
                                LOG("&6&l[&f&oM&facro&6&l] &f&oBaú de armazenamento atual: &a%#bau_atual%&fº");
                            ENDIF;
                            IF(%#fungos_venarm%>=1); 
                                LOG("&6&l[&f&oM&facro&6&l] &f&oArmazenados (em packs): &a%#fungos_venarm% &7- &f&oLucro estimado: &a%#lucro_fungos% &f&ocoins");
                            ELSE;
                                LOG("&6&l[&f&oM&facro&6&l] &f&oArmazenados: &cNenhum &7- &f&oLucro estimado: &cSem lucro");
                            ENDIF;
                            IF(%#sleep_livros%=1);
                                LOG("");
                                LOG("&6&l[&f&oM&facro&6&l] &f&oTesouro encontrado: &a%#sleep_livros%");
                            ELSEIF(%#sleep_livros%>1);
                                LOG("");
                                LOG("&6&l[&f&oM&facro&6&l] &f&oTesouros encontrados: &a%#sleep_livros%");
                            ENDIF;
                    ENDIF;
                LOG("");  
            ENDIF;
        KEYUP(FORWARD);
        KEYUP(LEFT);
        KEYUP(RIGHT);
        KEYUP(SNEAK);
        KEYUP(BACK);
            IF(sleep_send);
                UNSET(sleep_send);
                SET(&armazem,"%&ma%");
                REPLACE(&armazem,"x","&c");
                REPLACE(&armazem,"at","desat");         
            ENDIF;  
        UNSET(@afk_onchat);
        STOP;
    ENDIF;
    DO;
        SET(#sleep_tentativas,"");
            IF((pos_save)&&(!mudar_andar));
                SET(&sleep_home,"sleepft");
                SET(sleep_look_last);
                UNSET(verificar_coord);
            ELSE;
                    IF(mudar_andar);
                        SET(sleepft);       
                        UNSET(mudar_andar);
                        INC(#andar_atual,1);
                            IF(%#andar_atual%>%#sleep_quest_1%);
                                SET(#andar_atual,"1");
                            ENDIF;
                        ECHO("/sethome sleepft");
                        WAIT(12T);                          
                    ENDIF;
                SET(&sleep_home,"sleepandar%#andar_atual%");
                SET(verificar_coord);
                UNSET(sleep_look_last);
            ENDIF;
            DO;
                GUI();
                UNSET(@sleepteleport);
                UNSET(delay_teleport);
                WAIT(1T);
                    IF(%#sleep_tentativas%=10);
                        LOG("&6&l[&f&oM&facro&6&l] &cAlgum problema aconteceu. &9&o#SLEEP"); 
                        LOG("&6&l[&f&oM&facro&6&l] &cTentando resolver... &9&o#SLEEP");         
                        SET(sleepft);       
                        UNSET(mudar_andar);
                        INC(#andar_atual,1);
                            IF(%#andar_atual%>%#sleep_quest_1%);
                                SET(#andar_atual,"1");
                            ENDIF;
                        ECHO("/sethome sleepft");
                        WAIT(12T);                          
                        SET(&sleep_home,"sleepandar%#andar_atual%");
                        SET(verificar_coord);
                        UNSET(sleep_look_last);
                    ENDIF;
                    IF(verificar_coord);
                        SET(&coords,"A:%#andar_atual% X:%XPOS% Y:%YPOS% Z:%ZPOS%");
                            IFMATCHES("%&coords_andares%","<%&coords%>");
                                SET(#ypos_ftemp,"%YPOS%");
                                SET(#zpos_set,"%ZPOS%");
                                BREAK;
                            ELSE;
                                ECHO("/home %&sleep_home%");
                                WAIT(10T);
                                UNSET(coord_ok);
                            ENDIF;
                    ELSE;
                        ECHO("/home %&sleep_home%");
                        WAIT(10T);
                        SET(coord_ok);
                    ENDIF;  
                #soulsand = 5454;   
                #sleep_af = 5454;   
                UNSET(ok1);
                    DO(250);
                        IF(@sleepteleport);
                                IF(!delay_teleport);
                                    SET(delay_teleport);
                                    WAIT(20T);
                                ENDIF;
                                IF(verificar_coord);
                                    SET(&coords,"A:%#andar_atual% X:%XPOS% Y:%YPOS% Z:%ZPOS%");
                                        IFMATCHES("%&coords_andares%","<%&coords%>");
                                            SET(coord_ok);
                                        ELSE;
                                            UNSET(coord_ok);
                                        ENDIF;
                                ENDIF; 
                            GETIDREL(0,0,0,#soulsand);
                            GETIDREL(0,1,0,#sleep_af);
                                IF(%#soulsand%=88);
                                    IF((%#sleep_af%=0)||(%#sleep_af%=115));
                                        SET(ok1);
                                    ENDIF;
                                ENDIF;
                        ENDIF;
                    UNTIL((@sleepteleport)&&(coord_ok)&&(ok1));
                    IF((ok1)&&(%#sleep_tentativas%=5));
                        SET(#ypos_ftemp,"%YPOS%");
                        SET(&sleep_home,"sleepft");
                        SET(sleep_look_last);
                        SET(coord_ok);
                        UNSET(verificar_coord);
                    ENDIF;
                    DO(10);
                        IF(verificar_coord);
                            SET(&coords,"A:%#andar_atual% X:%XPOS% Y:%YPOS% Z:%ZPOS%");
                                IFMATCHES("%&coords_andares%","<%&coords%>");
                                    SET(#ypos_ftemp,"%YPOS%");
                                    SET(#zpos_set,"%ZPOS%");
                                    SET(coord_ok);
                                ELSE;
                                    UNSET(coord_ok);
                                ENDIF;
                        ENDIF;      
                    LOOP;
                INC(#sleep_tentativas,1);
            UNTIL((@sleepteleport)&&(coord_ok)&&(%YPOS%=%#ypos_ftemp%));         
            IF((sleep_look_last)&&(%#sleep_shield_colheita%<10));
                    DO(4);
                        GETIDREL(0,0,0,#soulsand);
                        GETIDREL(0,1,0,#sleep_af);
                    UNTIL((%#soulsand%=88)&&((%#sleep_af%=0)||(%#sleep_af%=115)));
                LOOK(%&look_ftemp%);
            ENDIF;
        SET(#sleep_shield_colheita,"");
        SET(#fungo_nao_encontrado,"");
            IF(%DIRECTION%="S");
                SET(&sleep_match,"<1.SOUTH><2.RIGHT><3.180><4.1>");
                SET(&comer_dir,"SOUTH");
            ELSE;
                SET(&sleep_match,"<1.NORTH><2.LEFT><3.0><4.-1>");
                SET(&comer_dir,"NORTH");
            ENDIF;
            IF(forcar_comer);
                UNSET(forcar_comer);
                    DO(5);
                        SET(#sleep_shield,"");
                            IF(%GUI%="INVENTORY");
                                GUI();
                            ENDIF;
                            DO;
                                LOOK(%&comer_dir%);
                                PICK(%#sleep_id_comida%);
                                KEY(USE);
                                INC(#sleep_shield,1);
                            UNTIL((%HUNGER%>=16)||(%#sleep_shield%>=150)||(%STACKSIZE%=0));
                        WAIT(5T);
                    UNTIL((%HUNGER%>=16)||(%STACKSIZE%=0)); 
            ENDIF;
        GUI();
        KEYUP(FORWARD);
        KEYUP(LEFT);
        KEYUP(RIGHT);
        KEYUP(SNEAK);
        KEYUP(BACK);
            DO;         
                    IFMATCHES("%&sleep_match%","^<1.(.+)><2.(.+)><3.(.+)><4.(.+)>$");
                        MATCH("%&sleep_match%","^<1.(.+)><2.(.+)><3.(.+)><4.(.+)>$",{&look,&mov,#yaw,#drel_1});
                    ENDIF;
                    IF(sleepft);
                        UNSET(sleepft);  
                        SET(#getslot,"9");
                        SET(#slot_vazio_cont,"");
                        TYPE("E");
                        WAIT(2T);
                            UNSAFE;
                                DO; 
                                    GETSLOT(0,#slot_vazio,%#getslot%);
                                        IF(%#slot_vazio%!=-1);
                                            INC(#slot_vazio_cont,1);
                                            #getslot = %#slot_vazio% + 1;
                                        ENDIF;
                                UNTIL((%#slot_vazio_cont%=4)||(%#slot_vazio%=-1));
                            ENDUNSAFE;
                        TYPE("E");
                        WAIT(2T);
                            IF((%ZPOS%=%#zpos_set%)||(%#slot_vazio_cont%<=3));
                                UNSET(@sleepsethome);
                                    DO;
                                        LOOK(%&look%);
                                        ECHO("/sethome sleepft");
                                            DO(60);
                                            UNTIL(@sleepsethome);
                                    WHILE(!@sleepsethome);
                                SET(&look_ftemp,"%&look%");
                                SET(pos_save);
                            ENDIF;
                            IF(fungo_nao_encontrado);
                                INC(#fungo_nao_encontrado,1);
                                    IF(%#fungo_nao_encontrado%>=3);
                                        BREAK;
                                    ELSE;
                                        UNSET(fungo_nao_encontrado);
                                    ENDIF;
                            ENDIF;
                            IF((%&sleep_quest_3%="Sim")&&(%HUNGER%<=6));
                                SLOT(9);
                                UNSET(comprar_comida);
                                    IF((%ITEM%=%#sleep_id_comida%)&&(%STACKSIZE%>=2));
                                    ELSE;
                                        GUI(INVENTORY);
                                        GETSLOT(%#sleep_id_comida%,#slot);
                                            IF((%#slot%=-1)||(%#slot%=44));
                                                SLOTCLICK(44,L,TRUE);
                                                LOG("&6&l[&f&oM&facro&6&l] &aCompra de comidas habilitada. &9&o#SLEEP");
                                                SET(comprar_comida);
                                                SET(inventario_cheio);
                                                BREAK;
                                            ENDIF;
                                        SLOTCLICK(%#slot%,L,FALSE);
                                        WAIT(6T);
                                        SLOTCLICK(44,L,FALSE);
                                        WAIT(6T);
                                        SLOTCLICK(%#slot%,L,FALSE);
                                        WAIT(6T);
                                        GUI();
                                    ENDIF;
                                    DO(5);
                                        SET(#sleep_shield,"");
                                        LOOK(%&look%);
                                            DO;
                                                SLOT(9);
                                                KEY(USE);
                                                INC(#sleep_shield,1);
                                            UNTIL((%HUNGER%>=16)||(%#sleep_shield%>=150)||(%STACKSIZE%=0));
                                        WAIT(4T);
                                    UNTIL((%HUNGER%>=16)||(%STACKSIZE%=0));
                            ENDIF;                      
                        GUI();
                            IF(%#slot_vazio_cont%<=3);
                                LOG("&6&l[&f&oM&facro&6&l] &aPoucos slots livres, iniciando %&sleep_msg_1%. &9&o#SLEEP");
                                SET(inventario_cheio);
                                BREAK;
                            ELSE;
                                LOG("&6&l[&f&oM&facro&6&l] &aInventário ainda vazio. &9&o#SLEEP");
                            ENDIF;
                    ENDIF; 
                    UNSAFE;
                        LOOK(%#yaw%,90);                        
                        GETIDREL(0,0,0,#soulsand);
                        GETIDREL(0,1,0,#fungo_1,#data_1);
                        GETIDREL(0,0,%#drel_1%,#id_1);
                        &a = "nothing";
                            IF((%#fungo_1%=115)&&(%#data_1%>=%#sleep_quest_5%));
                                &a = "colepla";
                            ELSEIF((%#fungo_1%!=115)&&(%#soulsand%=88));
                                &a = "plantar";
                            ENDIF;
                            IF((%&a%!="nothing")&&((%FPS%<21)||(%#sleep_quest_4%>1)));
                                KEYUP(FORWARD);
                            ENDIF;
                            IF(%&a%="colepla");
                                SLOT(1);
                                WAIT(%#sleep_delay%MS);
                                KEY(ATTACK);
                                WAIT(%#sleep_delay%MS);
                                SET(&a,"plantar");
                            ENDIF;
                            IF(%&a%="plantar");
                                PICK(372);
                                    IF((%ITEM%!=372)&&(!fungo_nao_encontrado));
                                        GUI(INVENTORY);
                                        GETSLOT(372,#sleep_slot);
                                            IF((%#sleep_slot%!=-1)&&(%#sleep_slot%<36));
                                                SLOTCLICK(%#sleep_slot%,L,TRUE);
                                            ELSE;
                                                SET(fungo_nao_encontrado);
                                            ENDIF;
                                        PICK(372);
                                        GUI();
                                    ENDIF;
                                WAIT(%#sleep_delay%MS);
                                KEY(USE);
                                WAIT(%#sleep_delay%MS); 
                            ENDIF;
                        GETIDREL(-1,1,0,#fungo_plant);
                        GETIDREL(-1,0,0,#soulsand_plant);
                            IF((%#fungo_plant%=0)&&(%#soulsand_plant%=88));
                                PICK(372);
                                    IF(%ITEM%=372);
                                        KEYUP(FORWARD);
                                        LOOK(270,53);
                                        WAIT(%#sleep_delay%MS);
                                        KEY(USE);
                                        WAIT(%#sleep_delay%MS);
                                        LOOK(%#yaw%,90);
                                    ENDIF;
                            ENDIF;
                            IF(%GUI%!="NONE");
                                KEYUP(FORWARD);
                                    IF(%GUI%="GUICHAT");
                                        LOG("&6&l[&f&oM&facro&6&l] &aChat detectado, feche para continuar ou pressione as teclas &f&lM &a+ &f&lN &apara executar uma ação. &9&o#SLEEP");
                                            DO;
                                            UNTIL((%GUI%!="GUICHAT")||((KEY_N)&&(KEY_M))); 
                                            IF((KEY_N)&&(KEY_M))
                                                GUI();
                                                PROMPT(&menu,"$$[ [%&sleep_quest_2%,Trocar andar]]","Qual ação você deseja executar agora?");
                                                    IF((%&menu%="Vender na Warp VIP")||(%&menu%="Vender na Warp Loja")||(%&menu%="Armazenar"));
                                                        LOG("&6&l[&f&oM&facro&6&l] &aForçando %&sleep_msg_1%. &9&o#SLEEP");
                                                        SET(inventario_cheio);
                                                        BREAK;
                                                    ELSEIF(%&menu%="Trocar andar");
                                                        LOG("&6&l[&f&oM&facro&6&l] &aForçando troca de andar. &9&o#SLEEP");
                                                        SET(mudar_andar);
                                                        BREAK;
                                                    ENDIF;
                                            ENDIF;  
                                    ELSE;
                                        LOG("&6&l[&f&oM&facro&6&l] &aJanela detectada, continuando em &f3 &asegundos. &9&o#SLEEP");
                                        WAIT(3);        
                                    ENDIF;  
                                LOOK(%#yaw%,90);
                                GUI();
                            ENDIF; 
                    ENDUNSAFE;
                    IF(%#id_1%=88);
                        KEYDOWN(FORWARD);
                        SPRINT;
                    ELSE;
                        KEYUP(FORWARD);
                        GETIDREL(1,0,0,#soulsand);
                        GETIDREL(0,0,%#drel_1%,#id_1);
                            IF(%YPOS%!=%#ypos_ftemp%);
                                INC(#sleep_shield_colheita,1);
                                LOG("&6&l[&f&oM&facro&6&l] &cPosição inválida &f[&c%#sleep_shield_colheita%&f/&c10&f]&c. &9&o#SLEEP");  
                                WAIT(30T);
                            ELSEIF((%#soulsand%=88)&&(%#id_1%!=88));
                                LOOK(%&look%);
                                LOOK(+180,+0);
                                    IF(%DIRECTION%="S");
                                        SET(&sleep_match,"<1.SOUTH><2.RIGHT><3.180><4.1>");
                                    ELSE;
                                        SET(&sleep_match,"<1.NORTH><2.LEFT><3.0><4.-1>");
                                    ENDIF;
                                SET(#sleep_shield,"");
                                SET(#xpos_atual,"%XPOS%");
                                SET(sleepft); 
                                    IF(%ZPOS%=%#zpos_set%);
                                        ECHO("/sethome sleepft");
                                    ENDIF;
                                    DO(150);
                                        KEYDOWN(%&mov%);
                                            IF(%XPOS%!=%#xpos_atual%);
                                                KEYDOWN(SNEAK);
                                                INC(#sleep_shield,1);
                                            ENDIF;
                                    UNTIL((%XPOS%!=%#xpos_atual%)&&(%#sleep_shield%=9));
                                KEYUP(%&mov%);
                                KEYUP(SNEAK);
                            ELSEIF((%#soulsand%!=88)&&(%#id_1%!=88));
                                LOG("&6&l[&f&oM&facro&6&l] &aAndar colhido. &9&o#SLEEP");                               
                                SET(mudar_andar);
                            ENDIF;
                    ENDIF;
            UNTIL((%#sleep_shield_colheita%=10)||(mudar_andar));
            IF(%#sleep_shield_colheita%=10);
                UNSET(sleepft);
            ENDIF;
            IF(inventario_cheio);
                UNSET(inventario_cheio);
                SET(#getslot,"9");
                SET(#itens_inv_armazenar,"");
                    UNSAFE;
                        DO; 
                                IF(%GUI%!="GUIINVENTORY");
                                    GUI(INVENTORY);
                                ENDIF;
                            GETSLOT(372,#slot_fungo,%#getslot%);
                                IF(%#slot_fungo%!=-1);
                                    INC(#itens_inv_armazenar,1);
                                    #getslot = %#slot_fungo% + 1;
                                ENDIF;
                        UNTIL(%#slot_fungo%=-1);
                        IF(%&sleep_quest_3%="Sim");
                            GETSLOTITEM(44,#sleep_id);
                                IF(%#sleep_id%=%#sleep_id_comida%);
                                ELSE;
                                    SLOTCLICK(44,L,TRUE);
                                ENDIF;
                        ENDIF;
                    ENDUNSAFE;
                #fva = %#itens_inv_armazenar% - 1;
                    IF(%#itens_inv_armazenar%<=1);
                        LOG("&6&l[&f&oM&facro&6&l] &cFungos insuficientes para iniciar a venda. &9&o#SLEEP");
                    ELSE;
                        IF(%&sleep_quest_2%="Vender na Warp VIP");
                            SET(#id_item,"372");
                            SET(#coord_item_1,"691");
                            SET(#coord_item_2,"722");       
                            SET(#sleep_yaw_576,"144");
                            SET(#sleep_pitch_576,"17");
                            SET(#sleep_yaw_64,"144");
                            SET(#sleep_pitch_64,"0");       
                            SET(sell);
                                DO;
                                    SET(stop);
                                        DO(2);
                                            DO;
                                                GUI();
                                                UNSET(@sleepteleport);
                                                WAIT(1T);
                                                SET(#sleep_inc,"");
                                                ECHO("/warp vip");
                                                    DO(200);
                                                        GETIDREL(0,-1,0,#sleepteleport);
                                                            IF(%#sleepteleport%=57);
                                                                INC(#sleep_inc,1);
                                                            ELSE;
                                                                SET(#sleep_inc,"");
                                                            ENDIF;
                                                    UNTIL((@sleepteleport)||(%#sleep_inc%=47));
                                                    IF(%#sleep_inc%=47);
                                                        BREAK;
                                                    ELSE;
                                                        WAIT(3T);
                                                    ENDIF;
                                            WHILE(!@sleepteleport); 
                                        UNTIL(%#sleep_inc%=47);
                                    SET(#sleep_inc,"");
                                    UNSET(player_atrapalhando);
                                    UNSET(menuloja);
                                        IF(%#id_item%=372);
                                            SET(#passos,"1");
                                                DO;
                                                    UNSET(sleep_zpos);
                                                    UNSET(sleep_xpos);   
                                                        IF(%#passos%=1);
                                                            SET(#sleep_yaw,"180");
                                                            SET(#sleep_pitch,"0");
                                                            SET(sleep_zpos);
                                                            SET(#sleep_coord,"659");
                                                            SET(#sleep_coord_sneak,"658");
                                                            SET(&sleep_move,"FORWARD");
                                                        ELSEIF(%#passos%=2);
                                                            SET(#sleep_yaw,"124");
                                                            SET(#sleep_pitch,"0");
                                                            SET(sleep_xpos);
                                                            SET(#sleep_coord,"722");
                                                            SET(#sleep_coord_sneak,"721");  
                                                            SET(&sleep_move,"FORWARD");
                                                        ELSEIF(%#passos%=3);
                                                                IF(!menuloja);
                                                                    ECHO("/menuloja off");
                                                                    SET(menuloja);
                                                                    SET(#sleep_inc,"");
                                                                ENDIF;
                                                            SET(#sleep_pitch,"0");
                                                            SET(sleep_zpos);
                                                            SET(#sleep_coord,"%#coord_item_1%");
                                                            #sleep_coord_sneak = %#coord_item_1% - 1;
                                                                IF(%#id_item%=372);
                                                                    SET(&sleep_move,"FORWARD");
                                                                    SET(#sleep_yaw,"180");
                                                                ENDIF;
                                                        ELSEIF(%#passos%=4);
                                                            SET(#sleep_pitch,"0");
                                                            SET(sleep_xpos);
                                                            SET(#sleep_coord,"%#coord_item_2%");
                                                                IF(%#id_item%=372);
                                                                    SET(&sleep_move,"NADA");
                                                                    SET(#sleep_yaw,"180");
                                                                ENDIF;
                                                        ENDIF;
                                                    LOOK(%#sleep_yaw%,%#sleep_pitch%);
                                                        IF((%HIT%="PLAYER")&&(%#passos%>=3)&&(%ZPOS%<689)&&(!player_atrapalhando));
                                                            ECHO("/esconder");
                                                                DO(2);
                                                                    RANDOM(#sleep_delay_esperar,325,200);
                                                                        DO;
                                                                                IF(%GUI%!="GUIINVENTORY");
                                                                                    GUI(INVENTORY);
                                                                                ENDIF;
                                                                            KEYUP(%&sleep_move%);
                                                                            LOOK(%#sleep_yaw%,%#sleep_pitch%);
                                                                            DEC(#sleep_delay_esperar,1);
                                                                        UNTIL((%#sleep_delay_esperar%<1)||(%HIT%!="PLAYER"));
                                                                WHILE(%HIT%="PLAYER");
                                                                IF(%HIT%="PLAYER");
                                                                    SET(player_atrapalhando);
                                                                ENDIF;
                                                            GUI();
                                                        ENDIF;  
                                                    KEYDOWN(%&sleep_move%);
                                                    SPRINT;                         
                                                        IF(sleep_xpos);
                                                            IF(%XPOS%=%#sleep_coord%);
                                                                KEYUP(%&sleep_move%);
                                                                KEYUP(SNEAK);
                                                                INC(#passos,1);
                                                            ELSEIF(%XPOS%>=%#sleep_coord_sneak%);
                                                                IF(%#sleep_coord%=713);
                                                                    IF(%XPOS%<=714);
                                                                        KEYDOWN(SNEAK);
                                                                    ELSE;
                                                                        KEYUP(SNEAK);
                                                                    ENDIF;
                                                                ELSE;
                                                                    KEYDOWN(SNEAK);
                                                                ENDIF;
                                                            ELSE;
                                                                KEYUP(SNEAK);
                                                            ENDIF;
                                                        ELSEIF(sleep_zpos);
                                                            IF(%ZPOS%=%#sleep_coord%);
                                                                KEYUP(%&sleep_move%);
                                                                KEYUP(SNEAK);                           
                                                                INC(#passos,1);
                                                            ELSEIF(%ZPOS%>=%#sleep_coord_sneak%);
                                                                KEYDOWN(SNEAK);
                                                            ELSE;
                                                                KEYUP(SNEAK);
                                                            ENDIF;   
                                                        ENDIF;
                                                    INC(#sleep_inc,1);
                                                UNTIL((%#passos%=5)||(%#sleep_inc%=500));
                                            RANDOM(#limite_clicks,60,35);
                                        ENDIF;
                                    SET(#sleep_inc_two,"");
                                        IF(%#sleep_inc%=500);
                                            LOG("&6&l[&f&oM&facro&6&l] &cAlgum problema aconteceu, venda reiniciada. &9&o#SLEEP");
                                            KEYUP(FORWARD);
                                            KEYUP(%&sleep_move%);
                                            KEYUP(SNEAK);    
                                            UNSET(stop);
                                        ELSE;
                                                IF(sell);
                                                    REPLACE(&sell,"x","iniciada");
                                                    REPLACE(&sell,"iniciada","x");
                                                    UNSET(sell);
                                                ENDIF;
                                            SET(#sleep_action,"1");
                                            SET(chest_vazio);
                                            UNSET(desbugar);
                                                DO;
                                                    SET(end);
                                                        IFMATCHES("%&sleep_placas%","^Sim$");
                                                            #quant_min = 1;
                                                            #quant_sair = 0;
                                                        ELSE;
                                                            #quant_min = 576;
                                                            #quant_sair = 64;
                                                        ENDIF;
                                                        IF(%#sleep_action%=1);
                                                            SET(#quant_itens,"");
                                                            SET(#getslot,"9");
                                                            UNSAFE;
                                                                DO(50); 
                                                                        IF(%GUI%!="GUIINVENTORY");
                                                                            GUI(INVENTORY);
                                                                        ENDIF;
                                                                    GETSLOT(%#id_item%,#sleep_slot,%#getslot%);
                                                                    GETSLOTITEM(%#sleep_slot%,#sleep_id,#sleep_stack);
                                                                        IF(%#sleep_slot%!=-1);
                                                                            INC(#quant_itens,%#sleep_stack%);
                                                                        ENDIF;
                                                                    #getslot = %#sleep_slot% + 1;
                                                                UNTIL((%#quant_itens%>=%#quant_min%)||(%#sleep_slot%=-1));
                                                            ENDUNSAFE;
                                                        ENDIF;
                                                        IF((%#quant_itens%<=%#quant_sair%)&&(chest_vazio));
                                                        ELSE;   
                                                            GUI();                                                      
                                                            UNSET(end);
                                                            WAIT(5MS);
                                                                IF(#sleep_action=1);
                                                                        IFMATCHES("%&sleep_placas%","^Sim$");
                                                                            LOOK(%#sleep_yaw_64%,%#sleep_pitch_64%);
                                                                            WAIT(1T);   
                                                                            KEY(ATTACK);
                                                                            WAIT(1T);  
                                                                        ELSE;
                                                                            IF(%#quant_itens%>=%#quant_min%);
                                                                                LOOK(%#sleep_yaw_576%,%#sleep_pitch_576%);
                                                                                WAIT(1T);
                                                                                KEY(ATTACK);
                                                                                WAIT(1T);   
                                                                            ELSEIF((%#quant_itens%>=64)&&(%#quant_itens%<%#quant_min%));
                                                                                LOOK(%#sleep_yaw_64%,%#sleep_pitch_64%);
                                                                                WAIT(1T);   
                                                                                KEY(ATTACK);
                                                                                WAIT(1T);   
                                                                            ENDIF;
                                                                        ENDIF;
                                                                    INC(#sleep_inc_two,1);
                                                                ENDIF;
                                                        ENDIF;
                                                UNTIL((end)||(%#sleep_inc_two%>=%#limite_clicks%));
                                                IF(%#sleep_inc_two%>=%#limite_clicks%);
                                                    LOG("&6&l[&f&oM&facro&6&l] &cAlgum problema aconteceu, venda reiniciada. &9&o#SLEEP");
                                                    UNSET(stop);
                                                ENDIF;
                                        ENDIF;          
                                UNTIL(stop);
                                DO(10);
                                    LOOK(SOUTH);
                                    KEYDOWN(LEFT);
                                LOOP;
                            KEYUP(LEFT);
                            REPLACE(&sell,"x","concluída");
                            REPLACE(&sell,"concluída","x");
                            GUI();
                            INC(#fungos_venarm,%#fva%);
                        ELSEIF(%&sleep_quest_2%="Vender na Warp Loja"); 
                            SET(#sleep_inc_three,"");
                                DO;
                                    UNSET(parar);
                                        DO(2);
                                            GUI();
                                            UNSET(@sleepteleport);
                                            UNSET(delay_teleport);
                                            WAIT(1T);
                                            ECHO("/home sleepfv");
                                            WAIT(10T);
                                                DO(250);
                                                    IF((@sleepteleport)&&(!delay_teleport));
                                                        SET(delay_teleport);
                                                            DO(100);
                                                                GETIDREL(0,-1,0,#sleep_id);
                                                            WHILE(%#sleep_id%=0);
                                                        WAIT(20T);
                                                            DO(100);
                                                                GETIDREL(0,-1,0,#sleep_id);
                                                            WHILE(%#sleep_id%=0);
                                                    ENDIF;
                                                UNTIL((@sleepteleport)&&(delay_teleport)&&(%YPOS%=6)&&(%XPOS%=%#xpos_fv%)&&(%ZPOS%=%#zpos_fv%));
                                            WAIT(5T);
                                        UNTIL((@sleepteleport)&&(%YPOS%=6)&&(%XPOS%=%#xpos_fv%)&&(%ZPOS%=%#zpos_fv%));
                                    ECHO("/menuloja off");
                                        IF((%YPOS%=6)&&(%XPOS%=%#xpos_fv%)&&(%ZPOS%=%#zpos_fv%));
                                            SET(#sleep_homes,"1");          
                                            SET(#sleep_inc,"");
                                            SET(&sleep_look,"NORTH");
                                                DO;
                                                    DO(2);
                                                        DO;
                                                            INC(#sleep_inc,1);
                                                            GETIDREL(0,-1,0,#id_unbug);
                                                                IF((%#sleep_inc%>=200)||(%#id_unbug%=0));
                                                                    SET(parar);
                                                                    BREAK;
                                                                ENDIF;                                  
                                                                IF(%XPOS%<-645);
                                                                    LOOK(EAST);
                                                                    KEYDOWN(FORWARD);
                                                                    KEYDOWN(SNEAK);
                                                                    UNSPRINT;                       
                                                                ELSEIF(%XPOS%>-645);
                                                                    LOOK(WEST);
                                                                    KEYDOWN(FORWARD);
                                                                    KEYDOWN(SNEAK);
                                                                    UNSPRINT;
                                                                ELSE;
                                                                    WAIT(1MS);
                                                                    KEYUP(FORWARD);
                                                                    KEYUP(SNEAK);
                                                                    BREAK;
                                                                ENDIF;                 
                                                        LOOP;               
                                                        DO;
                                                            INC(#sleep_inc,1);
                                                            GETIDREL(0,-1,0,#id_unbug);
                                                                IF((%#sleep_inc%>=200)||(%#id_unbug%=0));
                                                                    SET(parar);
                                                                    BREAK;
                                                                ENDIF;
                                                                IF(%ZPOS%<605);
                                                                    LOOK(SOUTH);
                                                                    KEYDOWN(FORWARD);
                                                                    UNSPRINT;
                                                                ELSEIF(%ZPOS%>605);
                                                                    LOOK(NORTH);
                                                                    KEYDOWN(FORWARD);
                                                                    UNSPRINT;
                                                                ELSE;
                                                                    WAIT(3T);
                                                                    KEYUP(FORWARD);
                                                                    KEYUP(SNEAK);
                                                                    BREAK;
                                                                ENDIF;                                 
                                                        LOOP;                   
                                                    LOOP;
                                                    IF(!parar);
                                                        SET(#sleep_inc,"");
                                                        SET(#sleep_inc_two,"");
                                                        SET(&y_sleep,"+0");
                                                        SET(&p_sleep,"+79");
                                                        UNSET(hotbar);
                                                            IF(%#sleep_inc_three%=0);
                                                                REPLACE(&sell,"x","iniciada");
                                                                REPLACE(&sell,"iniciada","x");
                                                            ENDIF;                                                                                                      
                                                            DO;
                                                                LOOK(NORTH);
                                                                    IF(hotbar);
                                                                        LOOK(%&y_sleep%,%&p_sleep%);
                                                                    ELSE;
                                                                        LOOK(%&y_sleep%,+0);
                                                                    ENDIF;
                                                                #sleep_getslot = 9;
                                                                SET(#quant_fungos,"");
                                                                UNSET(fungo);
                                                                UNSET(hotbar);
                                                                SET(#quant_itens,"");
                                                                SET(#getslot,"9");
                                                                UNSAFE;
                                                                    DO(50); 
                                                                            IF(%GUI%!="GUIINVENTORY");
                                                                                GUI(INVENTORY);
                                                                            ENDIF;
                                                                        GETSLOT(372,#sleep_slot,%#getslot%);
                                                                        GETSLOTITEM(%#sleep_slot%,#sleep_id,#sleep_stack);
                                                                            IF(%#sleep_slot%!=-1);
                                                                                INC(#quant_itens,%#sleep_stack%);
                                                                            ENDIF;
                                                                        #getslot = %#sleep_slot% + 1;
                                                                    UNTIL((%#quant_itens%>=576)||(%#sleep_slot%=-1));
                                                                    IFMATCHES("%&sleep_placas%","^Sim$");
                                                                        IF(%#quant_itens%>=1);
                                                                            SET(fungo);
                                                                        ENDIF;
                                                                    ELSE;
                                                                        IF(%#quant_itens%>=576);
                                                                            SET(fungo);
                                                                            SET(hotbar);
                                                                        ELSEIF((%#quant_itens%>64)&&(%#quant_itens%<576));
                                                                            SET(fungo);
                                                                        ENDIF;
                                                                    ENDIF;
                                                                ENDUNSAFE;
                                                                    IF(fungo);
                                                                        IF(%HIT%="PLAYER");
                                                                            ECHO("/esconder");
                                                                            INC(#sleep_inc_two,1);
                                                                            RANDOM(#sleep_time,300,25);
                                                                                IF(%XPOS%=-645);
                                                                                    SET(&keydown,"LEFT");
                                                                                    SET(#pos_stop,"-646");
                                                                                    SET(&y_sleep,"+66");
                                                                                    SET(&p_sleep,"+66");
                                                                                ELSEIF(%XPOS%=-646);    
                                                                                    SET(&keydown,"RIGHT");
                                                                                    SET(#pos_stop,"-645");
                                                                                    SET(&y_sleep,"+0");
                                                                                    SET(&p_sleep,"+79");         
                                                                                ENDIF;
                                                                            GUI();
                                                                                DO(50);
                                                                                    LOOK(NORTH);
                                                                                    KEYDOWN(%&keydown%);
                                                                                    KEYDOWN(SNEAK);
                                                                                UNTIL(%XPOS%=%#pos_stop%);
                                                                            KEYUP(SNEAK);
                                                                            KEYUP(%&keydown%);
                                                                                DO(50);
                                                                                    LOOK(NORTH);
                                                                                    KEYDOWN(BACK);
                                                                                    KEYDOWN(SNEAK);
                                                                                UNTIL(%ZPOS%=607);          
                                                                                DO;
                                                                                    LOOK(NORTH);
                                                                                    KEYUP(SNEAK);
                                                                                    KEYUP(BACK);
                                                                                    DEC(#sleep_time,1);
                                                                                    GETIDREL(0,0,-3,#id_unbug);
                                                                                        IF(%HIT%="PLAYER");
                                                                                        ELSE;
                                                                                            SET(#sleep_time,"-1");
                                                                                        ENDIF;      
                                                                                UNTIL((%#sleep_time%<1)||(%#id_unbug%!=112));
                                                                                IF(%#id_unbug%=112);
                                                                                        DO(50);
                                                                                            LOOK(NORTH);
                                                                                            KEYDOWN(FORWARD);
                                                                                        UNTIL(%ZPOS%=605);
                                                                                    WAIT(10T);
                                                                                    KEYUP(FORWARD);
                                                                                ELSE;
                                                                                    SET(parar);
                                                                                    BREAK;
                                                                                ENDIF;
                                                                        ELSE;
                                                                            SET(#sleep_inc_two,"");  
                                                                            GUI();                                                                  
                                                                                IF(hotbar);
                                                                                    LOOK(NORTH);
                                                                                    LOOK(%&y_sleep%,%&p_sleep%);
                                                                                ELSE;
                                                                                    LOOK(NORTH);
                                                                                    LOOK(%&y_sleep%,+0);
                                                                                ENDIF;
                                                                            WAIT(1T);
                                                                            KEY(ATTACK);
                                                                            WAIT(1T);
                                                                        ENDIF;
                                                                    ELSE;
                                                                        BREAK;
                                                                    ENDIF;
                                                                GETIDREL(0,-1,0,#id_unbug);
                                                                INC(#sleep_inc,1);
                                                                    IF((%#id_unbug%=0)||(%#sleep_inc%>=70)||(%#sleep_inc_two%>=6));
                                                                        SET(parar);
                                                                        BREAK;
                                                                    ENDIF;                                                  
                                                            LOOP;
                                                            IF((parar)||(!fungo));
                                                                BREAK;
                                                            ENDIF;   
                                                    ELSE;
                                                        BREAK;
                                                    ENDIF;
                                                LOOP;           
                                            KEYUP(SNEAK);
                                            KEYUP(RIGHT);
                                            KEYUP(LEFT);
                                            KEYUP(BACK);
                                            KEYUP(FORWARD);
                                            KEYUP(JUMP);
                                            GUI();
                                            INC(#sleep_inc_three,1);
                                                IF(parar);
                                                    LOG("&6&l[&f&oM&facro&6&l] &cAlgum problema aconteceu, venda reiniciada. &9&o#SLEEP");
                                                        DO(10);
                                                            LOOK(%&sleep_look%);
                                                            KEYDOWN(BACK);
                                                        LOOP;
                                                    KEYUP(BACK);                                            
                                                ENDIF;
                                        ELSE;
                                            LOG("&6&l[&f&oM&facro&6&l] &cAlgum problema aconteceu, venda reiniciada. &9&o#SLEEP");
                                            SET(parar);
                                        ENDIF;
                                UNTIL(!parar);
                                DO(10);
                                    LOOK(NORTH);
                                    KEYDOWN(BACK);
                                LOOP;
                            KEYUP(BACK);
                            REPLACE(&sell,"x","concluída");
                            REPLACE(&sell,"concluída","x");
                            GUI();
                            INC(#fungos_venarm,%#fva%);
                        ELSEIF(%&sleep_quest_2%="Armazenar");
                            UNSET(block_home_baus);
                            UNSET(pos_baus_verificar);
                                DO;
                                    SET(fim);
                                        IF(!block_home_baus);
                                                DO;
                                                    GUI();
                                                    SET(#sleep_inc,"");
                                                    UNSET(@sleepteleport);
                                                    UNSET(delay_teleport);
                                                    UNSET(home_protection);
                                                    WAIT(1T);
                                                    ECHO("/home sleepfb");
                                                    WAIT(10T);
                                                        DO(5);
                                                            DO;
                                                                GETIDREL(0,-1,0,#bloco);
                                                                    IF(@sleepteleport);
                                                                            IF(!delay_teleport);
                                                                                SET(delay_teleport);
                                                                                WAIT(20T);
                                                                            ENDIF;
                                                                        SET(&verificar_baus,"");
                                                                        GETIDREL(0,-1,-2,#bau1);GETIDREL(0,0,-2,#bau2);GETIDREL(0,1,-2,#bau3);GETIDREL(0,2,-2,#bau4);GETIDREL(0,3,-2,#bau5);
                                                                        GETIDREL(0,-1,-3,#bau6);GETIDREL(0,0,-3,#bau7);GETIDREL(0,1,-3,#bau8);GETIDREL(0,2,-3,#bau9);GETIDREL(0,3,-3,#bau10);                                    
                                                                        SET(&verificar_baus,"%#bau1%-%#bau2%-%#bau3%-%#bau4%-%#bau5%-%#bau6%-%#bau7%-%#bau8%-%#bau9%-%#bau10%");                    
                                                                            IFMATCHES("%&verificar_baus%","^(54|146)-(54|146)-(54|146)-(54|146)-(54|146)-(54|146)-(54|146)-(54|146)-(54|146)-(54|146)$");
                                                                                SET(ok1);
                                                                            ELSE;
                                                                                UNSET(ok1);
                                                                            ENDIF;  
                                                                    ELSE;
                                                                        UNSET(ok1);
                                                                    ENDIF;
                                                                    IF(pos_baus_verificar);
                                                                        IF((%XPOS%=%#baus_xpos%)&&(%YPOS%=%#baus_ypos%)&&(%ZPOS%=%#baus_zpos%));
                                                                            SET(ok2);
                                                                        ELSE;
                                                                            UNSET(ok2);
                                                                        ENDIF;
                                                                    ELSE;
                                                                        SET(ok2);
                                                                    ENDIF;
                                                                INC(#sleep_inc,1);
                                                                    IF(%#sleep_inc%=300);
                                                                        LOG("");
                                                                        LOG("&6&l[&f&oM&facro&6&l] &cAlgum problema aconteceu. Se este erro persistir, tem algo errado com sua trap de baús.");
                                                                        LOG("&6&l[&f&oM&facro&6&l] &cVeja como deve ficar a trap de baús:");
                                                                        LOG("&6&l[&f&oM&facro&6&l] &ahttps://prnt.sc/j5jtsf");
                                                                        LOG("");
                                                                        LOG("&6&l[&f&oM&facro&6&l] &cTentando novamente...");  
                                                                        LOG("");                                                                        
                                                                        SET(home_protection);
                                                                        BREAK;
                                                                    ENDIF;
                                                            UNTIL((ok1)&&(ok2)&&(%#bloco%!=0)&&(@sleepteleport));
                                                        WHILE(!home_protection);
                                                UNTIL(!home_protection);
                                                IF(trap_salvar_coordenadas);
                                                    SET(#baus_xpos,"%XPOS%");
                                                    SET(#baus_ypos,"%YPOS%");
                                                    SET(#baus_zpos,"%ZPOS%");
                                                    UNSET(trap_salvar_coordenadas);
                                                ENDIF;
                                            UNSET(pos_baus_verificar);
                                        ELSE;
                                            UNSET(block_home_baus);
                                        ENDIF;
                                        IF((!baus_lotados)&&(%#itens_inv_armazenar%>1));
                                            SET(#sleep_inc,"199");
                                            SET(#sleep_inc_two,"");
                                                IF(%#bau_atual%=1);
                                                    SET(#pos_first_chest,"%#baus_xpos%");
                                                    SET(#pos_last_chest,"%#baus_xpos%");
                                                ENDIF;
                                            #pos_penult_chest = %#pos_last_chest% - 1;
                                                DO;
                                                    LOOK(NORTH);
                                                        IF(%XPOS%=%#pos_last_chest%);
                                                            WAIT(20MS);
                                                            BREAK;
                                                        ELSEIF((%XPOS%>%#pos_last_chest%)||(%YPOS%!=%#baus_ypos%)||(%ZPOS%!=%#baus_zpos%));
                                                            LOG("&6&l[&f&oM&facro&6&l] &cAlgum problema aconteceu. &9&o#SLEEP");
                                                            LOG("&6&l[&f&oM&facro&6&l] &cTentando resolver... &9&o#SLEEP");                                        
                                                            UNSET(fim);
                                                        ELSE;
                                                            GUI(INVENTORY);
                                                            KEYDOWN(RIGHT);
                                                                IF(%XPOS%<%#pos_penult_chest%);
                                                                    KEYUP(SNEAK);
                                                                ELSE;
                                                                    KEYDOWN(SNEAK);
                                                                ENDIF;
                                                        ENDIF;
                                                WHILE(fim);
                                            KEYUP(SNEAK);
                                            KEYUP(RIGHT);   
                                            GUI();
                                            LOG("&6&l[&f&oM&facro&6&l] &aBaú de armazenamento número &f%#bau_atual%&a. &9&o#SLEEP");
                                                IF(fim);
                                                    DO;
                                                        INC(#sleep_inc,1);
                                                            IF(%#sleep_inc%=200);
                                                                GUI();
                                                                SET(#sleep_inc,"");
                                                                INC(#sleep_inc_two,1);
                                                                    IF(%#sleep_inc_two%=6);
                                                                        LOG("&6&l[&f&oM&facro&6&l] &cO baú não está abrindo. &9&o#SLEEP");
                                                                        LOG("&6&l[&f&oM&facro&6&l] &cTentando resolver... &9&o#SLEEP");      
                                                                        SET(pos_baus_verificar);
                                                                        UNSET(fim);
                                                                        BREAK;
                                                                    ENDIF;
                                                                LOOK(NORTH);
                                                                    IFMATCHES("%#bau_atual%","^(.*)[0-9]$");
                                                                        MATCH("%#bau_atual%","^(.*)([0-9])$",{,#bau_atual_unit});
                                                                    ENDIF;
                                                                    IF((%#bau_atual%=1)||(%#bau_atual_unit%=1)||(%#bau_atual_unit%=6));
                                                                        LOOK(+0,+308);
                                                                    ELSEIF((%#bau_atual%=2)||(%#bau_atual_unit%=2)||(%#bau_atual_unit%=7));
                                                                        LOOK(+0,+328);                                                    
                                                                    ELSEIF((%#bau_atual%=3)||(%#bau_atual_unit%=3)||(%#bau_atual_unit%=8));
                                                                        LOOK(+0,+358);                                        
                                                                    ELSEIF((%#bau_atual%=4)||(%#bau_atual_unit%=4)||(%#bau_atual_unit%=9));
                                                                        LOOK(+0,+33);                                      
                                                                    ELSEIF((%#bau_atual%=5)||(%#bau_atual_unit%=5)||(%#bau_atual_unit%=0));
                                                                        LOOK(+0,+50);
                                                                    ENDIF;  
                                                                LOOK(+0,+2,1);
                                                                KEY(USE);
                                                            ELSEIF((%XPOS%!=%#pos_last_chest%)||(%YPOS%!=%#baus_ypos%)||(%ZPOS%!=%#baus_zpos%));
                                                                LOG("&6&l[&f&oM&facro&6&l] &cVocê não esta onde deveria. &9&o#SLEEP");
                                                                LOG("&6&l[&f&oM&facro&6&l] &cTentando resolver... &9&o#SLEEP");  
                                                                SET(pos_baus_verificar);
                                                                UNSET(fim);
                                                            ENDIF;
                                                    UNTIL((!fim)||(%GUI%="GUICHEST"));
                                                    IF(%&sleep_quest_3%="Sim");
                                                        SET(#sleep_slot_max,"87");
                                                    ELSE;
                                                        SET(#sleep_slot_max,"88");
                                                    ENDIF;
                                                    IF(fim);
                                                        WAIT(6T);
                                                        #id_inv = 333;
                                                            FOR(#sleep_slot_inv,54,%#sleep_slot_max%);
                                                                    IF(%GUI%!="GUICHEST");
                                                                        LOG("&6&l[&f&oM&facro&6&l] &cO baú foi fechado. &9&o#SLEEP");
                                                                        LOG("&6&l[&f&oM&facro&6&l] &cTentando reabrir... &9&o#SLEEP");
                                                                        SET(pos_baus_verificar);
                                                                        UNSET(fim);
                                                                        BREAK;
                                                                    ENDIF;
                                                                UNSET(slot_air);
                                                                    IF(%#id_inv%=0);
                                                                        SET(slot_air);
                                                                    ELSE;
                                                                        GETSLOT(0,#slot_vazio_chest);
                                                                            IF((%#slot_vazio_chest%!=-1)&&(%#slot_vazio_chest%<54));
                                                                                SET(slot_air);
                                                                            ENDIF;
                                                                    ENDIF;
                                                                    IF(!slot_air);
                                                                        GETSLOT(372,#slot_fungo,54);
                                                                            IF((%#slot_fungo%!=-1)&&(%#slot_fungo%<%#sleep_slot_max%));
                                                                                SLOTCLICK(%#slot_fungo%,L,TRUE);
                                                                                WAIT(1T);
                                                                            ENDIF;
                                                                        INC(#bau_atual,1);
                                                                        SET(block_home_baus);
                                                                            IF((%#bau_atual_unit%=5)||((%#bau_atual_unit%=0));
                                                                                GETIDREL(1,-1,-2,#bau1);GETIDREL(1,0,-2,#bau2);GETIDREL(1,1,-2,#bau3);GETIDREL(1,2,-2,#bau4);GETIDREL(1,3,-2,#bau5);
                                                                                GETIDREL(1,-1,-3,#bau6);GETIDREL(1,0,-3,#bau7);GETIDREL(1,1,-3,#bau8);GETIDREL(1,2,-3,#bau9);GETIDREL(1,3,-3,#bau10);                                                           
                                                                                SET(&verificar_baus,"%#bau1%-%#bau2%-%#bau3%-%#bau4%-%#bau5%-%#bau6%-%#bau7%-%#bau8%-%#bau9%-%#bau10%");    
                                                                                    IFMATCHES("%&verificar_baus%","^(54|146)-(54|146)-(54|146)-(54|146)-(54|146)-(54|146)-(54|146)-(54|146)-(54|146)-(54|146)$");
                                                                                        INC(#pos_last_chest,1);
                                                                                        UNSET(fim);
                                                                                        BREAK;
                                                                                    ELSE;
                                                                                        SET(baus_lotados);
                                                                                        GUI();
                                                                                            DO;
                                                                                                LOG("");
                                                                                                LOG("&6&l[&f&oM&facro&6&l] &cOs baús acabaram, esvazie-os e selecione \"resetar\" ao ligar a macro. &9&o#SLEEP");
                                                                                                LOG("");
                                                                                                WAIT(5);
                                                                                            LOOP;
                                                                                    ENDIF;                                              
                                                                            ENDIF;
                                                                        UNSET(fim);
                                                                        BREAK;
                                                                    ELSE;
                                                                        GETSLOTITEM(%#sleep_slot_inv%,#id_inv,#stack_inv);
                                                                            IF((%#id_inv%=122)||(%#id_inv%=0)||(%#id_inv%=320)||(%#id_inv%=364)||(%#id_inv%=366));
                                                                            ELSE;
                                                                                IFMATCHES("%#id_inv%","^372$|^387$");
                                                                                    SLOTCLICK(%#sleep_slot_inv%,L,TRUE);
                                                                                    WAIT(20MS);
                                                                                    DEC(#itens_inv_armazenar,1);
                                                                                        IF(%#id_inv%=387);
                                                                                            INC(#sleep_livros,1);
                                                                                        ENDIF;
                                                                                ENDIF;
                                                                            ENDIF;      
                                                                    ENDIF;
                                                            
                                                            NEXT;
                                                    ELSE;
                                                        GUI();
                                                    ENDIF;
                                                ENDIF;
                                        ENDIF;
                                UNTIL(fim);
                            INC(#fungos_venarm,%#fva%);
                            GUI();
                        ENDIF;
                    ENDIF;
            ENDIF;
            IF(comprar_comida);
                SET(buy);
                UNSET(comprar_comida);
                    DO;
                        SET(stop);
                            DO(2);
                                GUI();
                                UNSET(@sleepteleport);
                                UNSET(delay_teleport);
                                WAIT(1T);
                                ECHO("/home sleepcomida");
                                WAIT(10T);
                                    DO(250);
                                        IF((@sleepteleport)&&(!delay_teleport));
                                            SET(delay_teleport);
                                                DO(100);
                                                    GETIDREL(0,-1,0,#sleep_id);
                                                WHILE(%#sleep_id%=0);
                                            WAIT(20T);
                                                DO(100);
                                                    GETIDREL(0,-1,0,#sleep_id);
                                                WHILE(%#sleep_id%=0);
                                        ENDIF;
                                    UNTIL((@sleepteleport)&&(delay_teleport));
                                WAIT(5T);
                            UNTIL((@sleepteleport)&&(delay_teleport));
                        ECHO("/menuloja off");
                            IF(buy);
                                REPLACE(&buy,"x","iniciada");
                                REPLACE(&buy,"iniciada","x");
                                UNSET(buy);
                            ENDIF;
                            DO(3);
                                LOOK(%#sleep_yaw_placa%,%#sleep_pitch_placa%);
                                    IF(%GUI%!="GUIINVENTORY");
                                        GUI(INVENTORY);
                                    ENDIF;
                                    IFMATCHES("%&sleep_placas%","^Sim$");
                                        KEYDOWN(SNEAK);
                                    ENDIF;
                                WAIT(10T);
                                KEY(USE);
                                WAIT(10T);
                                    DO(200);
                                        GETSLOT(%#sleep_id_comida%,#slot);
                                    UNTIL(%#slot%!=-1);
                            UNTIL(%#slot%!=-1);
                        KEYUP(SNEAK);
                            IF(%#slot%=-1);
                                UNSET(stop);
                            ENDIF;
                            IF(stop);
                                GUI(INVENTORY); 
                                GETSLOT(%#sleep_id_comida%,#slot);
                                    DO(4);
                                        SLOTCLICK(44,L,TRUE);
                                    LOOP;
                                WAIT(6T);
                                SLOTCLICK(%#slot%,L,FALSE);
                                WAIT(6T);
                                SLOTCLICK(44,L,FALSE);
                                WAIT(6T);
                                GUI();
                                    DO(150);
                                        LOOK(%&dir_distanciar%);
                                        KEYDOWN(BACK);
                                    UNTIL(((%XPOS%<=%#dir_distanciar%)&&(%XPOS%>700))||((%ZPOS%>=%#dir_distanciar%)&&(%ZPOS%<650)));
                                KEYUP(BACK);
                                GUI();
                                SET(forcar_comer);
                            ELSE;
                                GUI();
                                    IF(%HIT%="PLAYER");
                                        ECHO("/esconder");
                                        LOG("&6&l[&f&oM&facro&6&l] &cAlguém está atrapalhando a sua compra. A compra será reiniciada em alguns segundos. &9&o#SLEEP");
                                            DO(150);
                                                LOOK(%&dir_distanciar%);
                                                KEYDOWN(BACK);
                                            UNTIL(((%XPOS%<=%#dir_distanciar%)&&(%XPOS%>700))||((%ZPOS%>=%#dir_distanciar%)&&(%ZPOS%<650)));
                                        KEYUP(BACK);
                                        RANDOM(#sleep_esperar,12,5);
                                        WAIT(%#sleep_esperar%);
                                    ELSE;
                                        LOG("&6&l[&f&oM&facro&6&l] &cAlgum problema aconteceu, compra reiniciada. &9&o#SLEEP");
                                    ENDIF;
                            ENDIF;
                    UNTIL(stop);
                LOG("&6&l[&f&oM&facro&6&l] &aCompra de comidas concluída. &9&o#SLEEP");  
                REPLACE(&buy,"x","concluída");
                REPLACE(&buy,"concluída","x");
            ENDIF;
            IF((fungo_nao_encontrado)&&(%#fungo_nao_encontrado%>=3));
                UNSET(fungo_nao_encontrado);
                ECHO("/ativar 666");
                WAIT(60T);
                LOG("");
                LOG("&6&l[&f&oM&facro&6&l] &cVocê foi automaticamente kickado do servidor para tentar solucionar um problema. &9&o#SLEEP");
                LOG("&6&l[&f&oM&facro&6&l] &cTentando retomar em &f3 &csegundos... &9&o#SLEEP");
                LOG("");
                WAIT(60T);
            ENDIF;          
    LOOP;
    
}$$